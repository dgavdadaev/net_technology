# Постановка задачи

Целью лабораторной работы является изучение принципов функционирования маршрутизации в сетях IPv4 и IPv6, а также получение практических навыков настройки и конфигурирования сетевого оборудования.

---

# Ход выполнения работы

## Задание 1. Настройка туннеля IPv6 поверх IPv4

В рамках задания рассматриваются две сети IPv6 и одна сеть IPv4. Необходимо реализовать механизм туннелирования IPv6 через IPv4, обеспечивающий передачу данных между двумя IPv6-сегментами посредством IPv4-сети. Схема сети приведена на рисунке 7.4, параметры адресации устройств указаны в таблице 7.1.!(image.png)

### Выполнение задания

1. Был создан новый проект в среде моделирования Packet Tracer.

2. В рабочей области размещены сетевые устройства и выполнено их соединение в соответствии с заданной топологией. В качестве маршрутизаторов использовались устройства модели 1941, в качестве коммутаторов — модели 2960.

3. Произведена настройка IP-адресов интерфейсов маршрутизатора R1.

4. Выполнена настройка адресов интерфейсов маршрутизатора R2.

5. Аналогичным образом были настроены интерфейсы маршрутизатора R3.

6. С использованием команды `ping` на маршрутизаторе R1 проверена доступность маршрутизатора R3 по адресу 10.0.0.2 и отсутствие доступа по адресу 20.0.0.1. Аналогичная проверка выполнена на маршрутизаторе R2.

7. Для сетей IPv4 на маршрутизаторах R1, R2 и R3 была настроена динамическая маршрутизация с использованием протокола EIGRP с номером автономной системы 1.

8. С помощью команды `ping` подтверждена доступность маршрутизатора R2 с R1 по адресу 20.0.0.2, а также доступность маршрутизатора R1 с R2 по адресу 10.0.0.1.

9. На маршрутизаторе R1 был создан туннельный интерфейс IPv6 поверх IPv4 с адресом 1001::1/64, связывающий внешний интерфейс g0/1 маршрутизатора R1 с интерфейсом g0/1 маршрутизатора R2.

10. На маршрутизаторе R2 настроен аналогичный туннельный интерфейс с адресом 1001::2/64 для организации соединения с маршрутизатором R1.

11. Настроена маршрутизация IPv6-трафика через созданный туннель.

12. На конечных устройствах PC1 и PC2 заданы IP-адреса в соответствии с таблицей 7.1. С использованием команды `ping` проверена доступность устройств между собой. При необходимости были скорректированы настройки маршрутизаторов.

13. С помощью команды `tracert` проанализирован маршрут следования пакетов между PC1 и PC2 в обоих направлениях.

14. На маршрутизаторе R3 выполнен просмотр таблицы маршрутизации IPv4 и дано пояснение отображаемой информации.

15. Аналогичный анализ таблиц маршрутизации выполнен на маршрутизаторах R1 и R2.

---

## Задание 2. Настройка динамической маршрутизации в сетях IPv4 и IPv6

Для заданной топологии сети (рис. 7.5) с известными параметрами адресации сегментов и интерфейсов устройств требуется настроить динамическую маршрутизацию с применением протоколов EIGRP, RIP и OSPF.

---

## Документирование моделируемой сети

Для моделируемой сети выполнено документирование, включающее описание IPv4- и IPv6-сегментов, а также таблицы адресации интерфейсов сетевых устройств.

(Таблицы адресации приведены в соответствии с заданием.)

---

## Настройка сети в Packet Tracer

1. В Packet Tracer создан новый проект с именем `base-top.pkt`.

2. В рабочей области размещён маршрутизатор модели 1941, в который установлен модуль HWIC-2T. Перед установкой модульного оборудования питание маршрутизатора было отключено, после установки — включено.

3. Маршрутизатор был скопирован три раза, дополнительно добавлены два коммутатора 2960 и два оконечных устройства PC. Устройствам присвоены соответствующие имена и выполнено соединение согласно схеме сети. При подключении по последовательным интерфейсам учтено, что маршрутизатор R1 является DCE по отношению к R4, а R4 — DCE по отношению к R3. Для удобства настройки добавлены комментарии с указанием IP-адресов интерфейсов.

4. Оконечным устройствам PC1 и PC2 назначены IP-адреса в соответствии с таблицей 7.3.

5. Настроены IPv4-адреса на интерфейсах маршрутизатора R1.

6. Выполнена настройка IPv6-адресов интерфейсов маршрутизатора R1.

7. Настроены IPv4-адреса интерфейсов маршрутизатора R2.

8. Выполнена настройка IPv6-адресов интерфейсов маршрутизатора R2.

9. Настроены IPv4-адреса интерфейсов маршрутизатора R3.

10. Выполнена настройка IPv6-адресов интерфейсов маршрутизатора R3.

11. Настроены IPv4-адреса интерфейсов маршрутизатора R4.

12. Выполнена настройка IPv6-адресов интерфейсов маршрутизатора R4.

13. На всех маршрутизаторах проверена корректность назначения адресов и активность интерфейсов.

14. Проект сохранён.

---

## Настройка динамической маршрутизации по протоколу EIGRP

1. Загружен файл с базовой топологией и сохранён под именем `eigrp.pkt`.

2. Для IPv4 принято, что все маршрутизаторы находятся в одной автономной системе с номером 1. На всех маршрутизаторах настроен протокол EIGRP.

3. Корректность работы маршрутизации подтверждена проверкой таблиц маршрутизации и списка соседей.

4. С помощью команды `tracert 10.0.11.10`, выполненной на PC1, зафиксирован маршрут прохождения пакетов.

5. Аналогичная трассировка выполнена с PC2 командой `tracert 10.0.10.10`.

6. На маршрутизаторе R2 временно отключён один из интерфейсов. В результате пакет стал передаваться через маршрутизатор R4 вместо R2.

7. После восстановления интерфейса исходный маршрут был восстановлен.

8. Для IPv6 принято, что все маршрутизаторы находятся в автономной системе с номером 10. Настроен протокол EIGRP для IPv6-сетей.

9. Проверена корректность маршрутизации IPv6 путём анализа таблиц маршрутизации и соседей.

10. Выполнена трассировка маршрута с PC1 командой `tracert 2001:11::a`.

11. Аналогичная проверка выполнена с PC2 командой `tracert 2001:10::a`.

12. При временном отключении интерфейса на R2 зафиксировано изменение маршрута.

13. После восстановления интерфейса подтверждено восстановление маршрутизации.

14. Проект сохранён.

---

## Настройка динамической маршрутизации по протоколу RIP

1. Проект сохранён под именем `rip.pkt`.

2. На маршрутизаторах настроен протокол RIPv2 для сетей IPv4.

3. Корректность работы маршрутизации подтверждена проверкой таблиц маршрутизации и соседей.

4. Выполнена трассировка маршрута с PC1 до PC2.

5. Аналогичная проверка выполнена в обратном направлении.

6. При временном отключении интерфейса на маршрутизаторе R2 зафиксировано изменение маршрута передачи пакетов.

7. После восстановления интерфейса маршрут был восстановлен.

8. Для IPv6 настроен протокол RIPng с номером процесса 10.

9. Проверена корректность маршрутизации IPv6.

10. Выполнена трассировка маршрутов между конечными устройствами.

11. При отключении интерфейса зафиксировано изменение маршрута.

12. После восстановления интерфейса подтверждено восстановление маршрутизации.

13. Проект сохранён.

---

## Настройка динамической маршрутизации по протоколу OSPF

1. Проект сохранён под именем `ospf.pkt`.

2. Для IPv4-сетей настроен протокол OSPF.

3. Проверена корректность маршрутизации путём анализа таблиц маршрутизации и соседей.

4. Выполнена трассировка маршрутов между PC1 и PC2.

5. При временном отключении интерфейса на маршрутизаторе R2 зафиксировано изменение маршрута.

6. После восстановления интерфейса маршрут был восстановлен.

7. Для IPv6 настроен протокол OSPFv3.

8. Проверена корректность маршрутизации IPv6.

9. Выполнены проверки трассировки маршрутов.

10. Проект сохранён.

---

## Самостоятельное задание

В рамках самостоятельной работы выполнено документирование моделируемой сети, включая схемы уровней L1 и L3, а также заполнены таблицы адресации.

Также реализована настройка двойного стека IPv4/IPv6 и выполнена проверка соединений.

Дополнительно настроена динамическая маршрутизация для сетей IPv4 и IPv6 с использованием протоколов EIGRP, RIP и OSPF, выполнена проверка маршрутов и доступности узлов.

---

## Вывод

В ходе выполнения лабораторной работы были изучены принципы маршрутизации в сетях IPv4 и IPv6, а также получены практические навыки настройки сетевого оборудования и динамических протоколов маршрутизации.
